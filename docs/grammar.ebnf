program =
  | statement+ EOF ;

statement =
  | "let" IDENT "=" expr ";"
  | "print" expr ";"
  | "print_int" expr ";"
  | IDENT "=" expr ";"
  | "if" "(" epxr ")" stmt_block [else_stmt]
  | "while" "(" expr ")" stmt_block
  ;

else_stmt =
  | "else" stmt_block
  ;

stmt_block =
  | "{" statement* "}"
  ;

expr =
  | relation
  ;

equal =
  | relation ( ("==" | "!=") relation )*
  ;

relation =
  | term ( ("<" | "<=" | ">" | ">=") term )*
  ;

term =
  | factor ( ("+" | "-") factor )*
  ;

factor =
  | primary ( ("*" | "/" | "%") primary )*
  ;

primary =
  | NUMBER
  | IDENT
  | "(" expr ")"
  ;


NUMBER = [0-9]+ ;
IDENT = [a-zA-Z_][a-zA-Z0-9_]* ;
